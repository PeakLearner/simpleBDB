language: python
python:
- 3.6
- 3.7
- 3.8
before_install:
- sudo apt update
- sudo apt install libdb-dev libdb++-dev
- python --version
- pip install -U pip
- pip install -U pytest
- pip install codecov
install:
- pip install .
script:
- pytest
after_success:
- codecov
deploy:
  provider: pypi
  username: __token__
  password:
    secure: oD5qzm3C7hYYB5InXnwgYqmQSu4gXmMPGGv6tFcYNNLAXn0WUarI8uexKGEaQ3mNIBuC9RM4oXW+CCBzB9mRcf93F9x+c3dkSPEPcAklZ6YPv6kat7ZcMj7AZvAczKa3HVDw4e8MtBQGBuWGzOPl6gPuvJ6MSvy/IDrsd2oTC0L0wg6qgC8C781InpBwasoeN7BXKDEUcLjniXU77hGMANo1x3THBOf09Cl1dtCoRhMxMcZ8r1LMxDprmZAe72VPGaUeiKjG3HFZDx2jSriKJ/EYhCjNAOLKVdt3nHGnHfwimenuLQ08FfOLtT8onZdXLlkIaN/5vOvRwdXEvlh6asmZkmiYy/Gg2tm79yp0Ox/+F3TSNTLWHDAgBWzhd0BsL/VmzkfnsJyl6kr6Meu+tPC22XuVVcUU7vRmZN/03nNSY79oOcekfHfzuPpgJIYK5olZJoeySN/bfMnrKrdWlmllOVYH8v/u/rll+1+5iBDeTuw6uXTGmPAirBjeNJ5E11ytQ4HXxKafHa+9L8tKEsRWCdeqcuABlT5g27VsRMDDrovFdmd3hsKOE50qu5UvTsaqfxm7huoxz8Ot4RU3o59nfj85q6endmLiPvnJ5+wwFgjXaSGgv71XaNE88x2TnVfcJCk5O/nfEP2WmaM4IkM/Ze8jMRVSCo0yBnSsJ0c=
  skip_cleanup: true
  on:
    branch: master
  skip_existing: true
